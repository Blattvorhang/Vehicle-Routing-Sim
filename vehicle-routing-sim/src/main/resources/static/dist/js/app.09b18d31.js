(function(){var o={9755:function(o,n,t){"use strict";var e=t(5130),i=t(6768);const r={id:"app"};function c(o,n,t,e,c,s){const a=(0,i.g2)("Map");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(a)])}var s=t(4232);const a={class:"map-container"},l={key:0,class:"map"},u=["src","alt"];function p(o,n,t,e,r,c){return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.Lk)("button",{onClick:n[0]||(n[0]=(...o)=>c.loadLocalFile&&c.loadLocalFile(...o))},"Load Local File"),r.grid.length?((0,i.uX)(),(0,i.CE)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.grid,((o,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:"row"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o,((o,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:(0,s.C4)(["cell",1===o?"black":"white"])},null,2)))),128))])))),128)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.cars,((o,n)=>((0,i.uX)(),(0,i.CE)("img",{key:n,src:o.image,alt:`Car ${n+1}`,class:"car",style:(0,s.Tr)({top:o.position.row*r.cellSize+"px",left:o.position.col*r.cellSize+"px",transform:`rotate(${o.angle}deg)`})},null,12,u)))),128))])):(0,i.Q3)("",!0)])}t(4114),t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698),t(8992),t(3949),t(1454);var f={name:"MapWithCars",data(){return{grid:[],cars:[{image:t(6635),position:{row:0,col:0},angle:0},{image:t(772),position:{row:0,col:0},angle:0},{image:t(3259),position:{row:0,col:0},angle:0},{image:t(8625),position:{row:0,col:0},angle:0},{image:t(7928),position:{row:0,col:0},angle:0},{image:t(3086),position:{row:0,col:0},angle:0}],cellSize:1.25,socket:null}},methods:{async loadLocalFile(){try{const o=await fetch("/grid_output.txt"),n=await o.text();this.processFileContent(n)}catch(o){console.error("Failed to load file:",o)}},processFileContent(o){const n=o.trim().split("\n"),t=n.map((o=>o.trim().split(/\s+/).map((o=>parseInt(o,10)))));this.grid=t,this.placeCarsInValidPositions()},placeCarsInValidPositions(){const o=[];this.grid.forEach(((n,t)=>{n.forEach(((n,e)=>{1===n&&o.push({row:t,col:e})}))}));const n=new Set;this.cars.forEach((t=>{let e;do{const n=Math.floor(Math.random()*o.length);e=o[n]}while(n.has(`${e.row}-${e.col}`));n.add(`${e.row}-${e.col}`),t.position=e}))},connectSocket(){this.socket=new WebSocket("ws://localhost:8080"),this.socket.onmessage=o=>{try{const n=JSON.parse(o.data);if(void 0!==n.carIndex&&this.cars[n.carIndex]){const o=this.cars[n.carIndex],{row:t,col:e,angle:i}=n;1===this.grid[t]?.[e]?(o.position.row=t,o.position.col=e,o.angle=i||0):console.warn(`Invalid position for car ${n.carIndex}: (${t}, ${e})`)}}catch(n){console.error("Failed to parse socket message:",n)}},this.socket.onclose=()=>{console.warn("Socket connection closed. Reconnecting..."),setTimeout(this.connectSocket,1e3)}}},mounted(){this.loadLocalFile(),this.connectSocket()}},d=t(1241);const g=(0,d.A)(f,[["render",p],["__scopeId","data-v-60a8ef44"]]);var h=g,m={name:"App",components:{Map:h}};const v=(0,d.A)(m,[["render",c]]);var w=v,b=t(5129),k=t.n(b);const x=(0,e.Ef)(w);x.use(k()),x.mount("#app")},5129:function(){},7928:function(o,n,t){"use strict";o.exports=t.p+"img/blue.0ba85057.png"},8625:function(o,n,t){"use strict";o.exports=t.p+"img/gray.958efaed.png"},3259:function(o,n,t){"use strict";o.exports=t.p+"img/green.50e50b03.png"},3086:function(o,n,t){"use strict";o.exports=t.p+"img/orange.6b4c36a7.png"},6635:function(o,n,t){"use strict";o.exports=t.p+"img/red.de238d59.png"},772:function(o,n,t){"use strict";o.exports=t.p+"img/yellow.2402b849.png"}},n={};function t(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return o[e].call(r.exports,r,r.exports,t),r.exports}t.m=o,function(){var o=[];t.O=function(n,e,i,r){if(!e){var c=1/0;for(u=0;u<o.length;u++){e=o[u][0],i=o[u][1],r=o[u][2];for(var s=!0,a=0;a<e.length;a++)(!1&r||c>=r)&&Object.keys(t.O).every((function(o){return t.O[o](e[a])}))?e.splice(a--,1):(s=!1,r<c&&(c=r));if(s){o.splice(u--,1);var l=i();void 0!==l&&(n=l)}}return n}r=r||0;for(var u=o.length;u>0&&o[u-1][2]>r;u--)o[u]=o[u-1];o[u]=[e,i,r]}}(),function(){t.n=function(o){var n=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(n,{a:n}),n}}(),function(){t.d=function(o,n){for(var e in n)t.o(n,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:n[e]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)}}(),function(){t.p="/"}(),function(){var o={524:0};t.O.j=function(n){return 0===o[n]};var n=function(n,e){var i,r,c=e[0],s=e[1],a=e[2],l=0;if(c.some((function(n){return 0!==o[n]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(a)var u=a(t)}for(n&&n(e);l<c.length;l++)r=c[l],t.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return t.O(u)},e=self["webpackChunkhello"]=self["webpackChunkhello"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=t.O(void 0,[504],(function(){return t(9755)}));e=t.O(e)})();
//# sourceMappingURL=app.09b18d31.js.map